{#
 # Page: Search
 #
 # @package WordPress
 # @subpackage CreatorFund
 #}

{% extends 'index.html.twig' %}

{% block content %}

	<div class="container mb-10">
		<div class="row">
			<div class="lg:col-6/12">
				<h1 class="text-2xl lg:text-4xl leading-tight font-bold opacity-0 has-dom-ready:opacity-100 duration-1000 ease-in-out transition-opacity">
					{{- post.title ~ ( search_query ? __( ': %s', 'creatorfund' ) | format( search_query ) ) -}}
				</h1>

				{% if posts %}
					<p class="mt-3 lg:mt-4 text-sm lg:text-base font-light opacity-0 has-dom-ready:opacity-100 duration-1000 ease-in-out transition-opacity">
						{{- _n( 'We found %d result for your search.', 'We found %d results for your search.', posts.found_posts, 'creatorfund' ) | format( posts.found_posts ) -}}
					</p>
				{% endif %}

				{% if post.introduction %}
					<p class="mt-3 lg:mt-4 text-sm lg:text-base font-light opacity-0 has-dom-ready:opacity-100 duration-1000 ease-in-out transition-opacity">
						{{- post.introduction -}}
					</p>
				{% endif %}

				<div class="mt-3 lg:mt-4">
					{{- search_form -}}
				</div>
			</div>
		</div>
	</div>

	{% if posts %}
		<div class="container">
			<div class="row gap-y-5">
				{% for post in posts %}
					<div>
						<article class="border-theme-black border-b pb-5">
							<h3 class="text-lg">{{- post.title -}}</h3>
							{{- post.excerpt ? "<p>#{ post.excerpt }</p>" -}}
							<a class="flex-shrink-0 button mt-5" href="{{ post.link }}">
								<span class="lg:hidden">{{- __( 'Read', 'creatorfund' ) -}}</span>
								<span class="hidden lg:inline">{{- __( 'Read more', 'creatorfund' ) -}}</span>
								{{- icon( 'arrow-right', { classes: [ 'fill-current' ] } ) -}}
							</a>
						</article>
					</div>
				{% endfor %}
			</div>
		</div>
	{% endif %}


	{{- include( 'blocks/blocks.html.twig', { blocks: post.meta( 'blocks' ) } ) -}}

{% endblock %}
